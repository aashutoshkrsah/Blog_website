{% extends "../base/base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="row">

        {# Sidebar Navigation - Stylish Boxed Look #}
       {% include "dashboard/leftsidebar.html" %}

        {# Main Content Area #}
        <main class="col-md-9 col-lg-10 px-4 py-4 bg-light">
            <div class="row g-4">

                {# Card 1 - Animated Categories #}
                <div class="col-md-6">
                    <div class="card border-0 shadow-lg rounded-4 text-white bg-gradient" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                        <div class="card-body text-center d-flex flex-column justify-content-center align-items-center">
                            <div class="mb-3">
                                <i class="bi bi-folder-fill display-4"></i>
                            </div>
                            <h5 class="text-uppercase fw-bold">Total  Categories</h5>
                            <h2 id="categoryCount" data-target="{{ categories_count }}" class="display-5 fw-bold mb-0">0</h2>
                        </div>
                    </div>
                </div>

                {# Card 2 - Animated Posts #}
                <div class="col-md-6">
                    <div class="card border-0 shadow-lg rounded-4 text-white bg-gradient" style="background: linear-gradient(135deg, #43cea2, #185a9d);">
                        <div class="card-body text-center d-flex flex-column justify-content-center align-items-center">
                            <div class="mb-3">
                                <i class="bi bi-bar-chart-fill display-4"></i>
                            </div>
                            <h5 class="text-uppercase fw-bold">Total  Posts</h5>
                            <h2 id="postCount" data-target="{{ blogs_count }}" class="display-5 fw-bold mb-0">0</h2>
                        </div>
                    </div>
                </div>

            </div>
        </main>

    </div>
</div>

{# Animated Count Script #}
<script>
    function animateCount(id) {
        const element = document.getElementById(id);
        const target = parseInt(element.getAttribute('data-target')) || 0;
        let count = 0;
        const speed = 50;

        function step() {
            count++;
            element.textContent = count;
            if (count < target) {
                setTimeout(step, speed);
            } else {
                element.textContent = target;
            }
        }

        step();
    }

    document.addEventListener('DOMContentLoaded', function () {
        animateCount('categoryCount');
        animateCount('postCount');
    });
</script>
{% endblock %}
